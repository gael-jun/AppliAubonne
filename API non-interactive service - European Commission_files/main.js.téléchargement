var SurveyInvitation=function(g,f,s){"use strict";var m,h;h={dom_ready:function(e){if(/in/.test(f.readyState)){setTimeout(function(){SurveyInvitation.dom_ready(e)},9)}else{e()}},set_element_text:function(e,t){var n=f.getElementById(e);while(n.firstChild!==null){n.removeChild(n.firstChild)}n.appendChild(f.createTextNode(t))},add_class:function(e,t){var n=e;if(typeof e==="string"){n=document.getElementById(e)}if(n){n.className=n.className+" "+t}},remove_class:function(e,t){e.className=e.className.replace(new RegExp("(?:^|\\s)"+t+"(?:\\s|$)")," ")},add_event_listener:function(e,t,n){if(e.attachEvent){e.attachEvent("on"+t,n)}else{e.addEventListener(t,n,false)}},element_has_attribute:function(e,t){return e.hasAttribute?e.hasAttribute(t):!!e.getAttribute(t)},window_in_iframe:function(){try{return g.self!==g.top}catch(e){return true}},get_browser_dimensions:function(){return{width:isNaN(g.innerWidth)?g.clientWidth:g.innerWidth,height:isNaN(g.innerHeight)?g.clientHeight:g.innerHeight}},get_element_outer_height:function(e){var t=e.currentStyle||g.getComputedStyle(e,null),n=e.offsetHeight;n+=parseInt(t.marginTop);n+=parseInt(t.marginBottom);return n},get_document_height:function(){var e=document.body,t=document.documentElement,n=Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight);return n},is_descendant:function(e,t){if(e&&t){if(e.contains){return e.contains(t)}var n=t.parentNode;while(n!==null){if(n===e){return true}n=n.parentNode}}return false},set_element_style:function(e,t){if(e.style.setAttribute){e.style.setAttribute("cssText",t)}else{e.setAttribute("style",t)}},set_cookie:function(e,t,n){var i;if(n){var o=new Date;o.setTime(o.getTime()+n*24*60*60*1e3);i="; expires="+o.toGMTString()}else{i=""}f.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+i+"; path=/"},get_cookie:function(e){var t=encodeURIComponent(e)+"=",n=f.cookie.split(";"),i,o;for(i=0;i<n.length;i+=1){o=n[i];while(o.charAt(0)===" "){o=o.substring(1,o.length)}if(o.indexOf(t)===0){return decodeURIComponent(o.substring(t.length,o.length))}}return null},delete_cookie:function(e){h.set_cookie(e,"",-1)},cookies_enabled:function(){var e=!!navigator.cookieEnabled;if(navigator.cookieEnabled===s&&!e){document.cookie="testcookie";e=!!(document.cookie.indexOf("testcookie")!==-1)}return e},json_enabled:function(){if(JSON&&typeof JSON.parse==="function"){return true}return false},init_ie8_support:function(){window.hasOwnProperty=window.hasOwnProperty||Object.prototype.hasOwnProperty;if(!Array.prototype.indexOf){Array.prototype.indexOf=function(e){if(this===null){throw new TypeError}var t=new Object(this);var n=t.length>>>0;if(n===0){return-1}var i=0;if(arguments.length>1){i=Number(arguments[1]);if(i!==i){i=0}else if(i!==0&&i!==Infinity&&i!==-Infinity){i=(i>0||-1)*Math.floor(Math.abs(i))}}if(i>=n){return-1}var o=i>=0?i:Math.max(n-Math.abs(i),0);while(o<n){if(t.k!==s&&t[o]===e){return o}o+=1}return-1}}},load_javascript_file:function(e,t){var n=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript";i.src=e;if(!t){t=function(){}}if(i.addEventListener){i.addEventListener("load",t,false)}else if(i.readyState){i.onreadystatechange=t}n.appendChild(i)},parse_date:function(e){var t,n=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d+))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/.exec(e),i=0,o=[1,4,5,6,7,10,11],a,r;if(n){for(a=0;a<o.length;a+=1){r=o[a];n[r]=+n[r]||0}n[2]=(+n[2]||1)-1;n[3]=+n[3]||1;if(n[8]!=="Z"&&n[9]!==s){i=n[10]*60+n[11];if(n[9]==="+"){i=0-i}}t=Date.UTC(n[1],n[2],n[3],n[4],n[5]+i,n[6],n[7])}else{m.error_log(e+": Wrong date format. Should be ISO 8601. Read more at: https://en.wikipedia.org/wiki/ISO_8601. Please, include UTC offsets, such as in 2013-08-18T06:36:40+00:00")}return t},get_current_date:Date.now||function(){return+new Date},load_style_sheet:function(e,t){var n,i,o=e+"?"+m.clear_cache_string();n=f.createElement("link");n.type="text/css";n.rel="stylesheet";n.href=o;f.getElementsByTagName("head")[0].appendChild(n);i=document.createElement("img");i.onerror=function(){t()};i.src=o},is_empty:function(e){var t;for(t in e){if(e.hasOwnProperty(t)){return false}}return true}};m={current_version:"v0.63",settings:{supported_languages:"en|fr|de|es|hr|nl|it|ca|cs|da|et|el|lv|lt|hu|bg|mt|pl|pt|ro|sk|sl|fi|sv|ga|tr",settings_url:"https://ec.europa.eu/wel/surveys/wr_survey03/data/survey_url_rules.js",cookie_name:"ecsi"},cache:{disabled_surveys:[],survey_rules:{}},locators:{exit_survey_proceed_directly_link_id:"ecsi-exit-survey-proceed-directly-link",pop_up_wrapper_element_id:"ec-survey-pop-up-container-wrapper",pop_up_element_id:"ec-survey-pop-up",pop_up_wrapper_element_class:"ecsi-container-wrapper",background_overlay_element_id:"ec-survey-pop-up-overlay",background_overlay_element_class:"ecsi-overlay",body_button_do_not_participate:"ec-survey-pop-up-body-button-do-not-participate",body_checkbox_accept_terms_id:"ec-survey-pop-up-checkbox-accept-terms",body_button_participate_wrapper:"ecsi-body-button-participate-now-wrapper",body_button_escape_invitation_after:"ec-survey-pop-up-body-button-escape-invitation-after",body_button_participate_after_visit:"ec-survey-pop-up-body-button-participate-after-visit",body_button_participate_now:"ec-survey-pop-up-body-button-participate-now",button_close:"ec-survey-pop-up-button-close",checkbox_do_not_show_again:"ec-survey-pop-up-checkbox-do-not-show-again"},init:function(e){h.init_ie8_support();m.settings.configuration_overrides=e;h.dom_ready(m.query_surveys,e)},query_surveys:function(){try{if(!h.json_enabled()){m.error_log("Browser doesn't support JSON.");return false}if(h.window_in_iframe()){m.error_log("Page loaded inside iframe will not display the survey pop-up.");return false}if(!m.url_in_production()){m.error_log("Page loaded on non-production url will not display the survey pop-up.");return false}if(m.pop_up_already_created()){m.error_log("Pop-up element was already present on page.");return false}if(!h.cookies_enabled()){m.error_log("Cookies are disabled.");return false}h.load_javascript_file(m.settings.settings_url+"?"+m.clear_cache_string())}catch(e){m.message_log("Error on init(). "+e.message);return false}},load_survey_url_rules_callback:function(e){var t;try{if(h.is_empty(m.cache.survey_rules)){m.cache.survey_rules=e}t=m.initialize_settings(e);if(t===s||!t||h.is_empty(t)){m.error_log("Failed to retrieve settings. Causes might be: No survey invitation rule match the current URL, or translation not found or incomplete.")}else{h.load_javascript_file(m.settings.invitation_settings_file+"?"+m.clear_cache_string())}}catch(e){m.message_log("Error on load_survey_url_rules_callback(). "+e.message)}},read_overrides:function(e){var t;for(t in m.settings.configuration_overrides){if(m.settings.configuration_overrides.hasOwnProperty(t)){e.invitation_settings_file=t;if(m.settings.configuration_overrides[t].hasOwnProperty("white_list")){e.white_list=m.settings.configuration_overrides[t].white_list}if(m.settings.configuration_overrides[t].hasOwnProperty("black_list")){e.black_list=m.settings.configuration_overrides[t].black_list}}}return e},load_invitation_settings_file_callback:function(e){try{var t=m.settings,n,i=t;if(e.hasOwnProperty("defaults")&&m.in_time_span(e.defaults)){i=m.update_settings(t,e.defaults)}if(e.hasOwnProperty(m.get_page_language())){n=e[m.get_page_language()];if(m.in_time_span(n)){i=m.update_settings(i,n)}}if(!i.hasOwnProperty("trigger_mode")||!i.hasOwnProperty("welcome")||!i.welcome.hasOwnProperty("markup")||i.trigger_mode==="trigger_mode_2"&&(!i.hasOwnProperty("reminder")||!i.reminder.hasOwnProperty("markup"))){m.cache.disabled_surveys.push(t.invitation_settings_file);m.load_survey_url_rules_callback(m.cache.survey_rules);return false}if(i.hasOwnProperty("start_date")&&h.parse_date(i.start_date)){i.start_date=h.parse_date(i.start_date)}if(i.hasOwnProperty("end_date")&&h.parse_date(i.end_date)){i.end_date=h.parse_date(i.end_date)}m.settings=i;if(m.settings.hasOwnProperty("trigger_mode")){if(m.settings.trigger_mode==="trigger_mode_1"){if(m.check_cookie("show_welcome_pop_up")){m.initialize_pop_up_markup(m.settings.welcome,"trigger_mode_1","welcome")}}if(m.settings.trigger_mode==="trigger_mode_2"){if(m.check_cookie("show_welcome_pop_up")){let e=.1;if(m.settings.hasOwnProperty("chances_of_showing")){e=m.settings.chances_of_showing}var o=Math.floor(Math.random()*100);if(o<e*100||window.location.href.indexOf("always-show")>-1){m.initialize_pop_up_markup(m.settings.welcome,"trigger_mode_2","welcome")}}else if(m.check_cookie("show_reminder_pop_up")){m.set_listener_for_when_visitor_leaves_website()}}}}catch(e){m.message_log("Failed when trying to initialize the invitation pop-up: "+e)}},initialize_pop_up_markup:function(e,t,n){var i,o,a,r,s,_,l,c;r=f.createElement("div");r.id=m.locators.background_overlay_element_id;h.add_class(r,m.locators.background_overlay_element_class);f.getElementsByTagName("body")[0].appendChild(r);h.set_element_style(r,"display:none");i=f.createElement("div");i.id=m.locators.pop_up_wrapper_element_id;h.add_class(i,m.locators.pop_up_wrapper_element_class);f.getElementsByTagName("body")[0].appendChild(i);h.set_element_style(i,"display:none");i.innerHTML=e.markup;for(o in e.translatable_texts){if(f.getElementById(o)&&e.translatable_texts.hasOwnProperty(o)){h.set_element_text(o,e.translatable_texts[o])}}for(o in e.translatable_hrefs){if(f.getElementById(o)&&e.translatable_texts.hasOwnProperty(o)){a=f.getElementById(o);_=g.location.href.toString();a.href=e.translatable_hrefs[o];if(a.href.indexOf("[reps_country_value]")!=-1){c=_.split("ec.europa.eu/")[1].split("/")[0];c=c.replace(/(\-\w)/g,function(e){return e[1].toUpperCase()});c=c.charAt(0).toUpperCase()+c.slice(1);a.href=a.href.replace("[reps_country_value]",c)}if(a.href.indexOf("[lang_value]")!=-1){l=m.get_page_language();a.href=a.href.replace("[lang_value]",l)}a.href=a.href.replace("[ua_value]",encodeURIComponent(navigator.userAgent)).replace("[p_value]",encodeURIComponent(_))}}s=t+"_"+n;switch(s){case"trigger_mode_1_welcome":var u=f.getElementById(m.locators.body_checkbox_accept_terms_id);var d=f.getElementById(m.locators.body_button_participate_now);var p=f.getElementById(m.locators.body_button_participate_wrapper);if(u&&d&&p){h.add_event_listener(u,"click",function(){if(!f.getElementById(m.locators.body_checkbox_accept_terms_id).checked){h.add_class(p,"disabled")}else{h.remove_class(p,"disabled")}})}h.add_event_listener(r,"click",function(){m.set_invitation_cookies(f.getElementById(m.locators.checkbox_do_not_show_again).checked,false,false);m.close_invitation()});if(f.getElementById(m.locators.button_close)){h.add_event_listener(f.getElementById(m.locators.button_close),"click",function(){m.set_invitation_cookies(f.getElementById(m.locators.checkbox_do_not_show_again).checked,false,false);m.close_invitation()})}document.onkeydown=function(e){e=e||window.event;if(e.keyCode===27){m.set_invitation_cookies(f.getElementById(m.locators.checkbox_do_not_show_again).checked,false,false);m.close_invitation()}};if(f.getElementById(m.locators.body_button_do_not_participate)){h.add_event_listener(f.getElementById(m.locators.body_button_do_not_participate),"click",function(){m.set_invitation_cookies(true,false,false);m.close_invitation()})}if(f.getElementById(m.locators.body_button_participate_now)){h.add_event_listener(f.getElementById(m.locators.body_button_participate_now),"click",function(){m.set_invitation_cookies(true,false,false);m.close_invitation()})}break;case"trigger_mode_2_welcome":var u=f.getElementById(m.locators.body_checkbox_accept_terms_id);var d=f.getElementById(m.locators.body_button_participate_after_visit);var p=f.getElementById(m.locators.body_button_participate_wrapper);if(u&&d&&p){h.add_event_listener(u,"click",function(){if(!p.classList.contains("disabled")){h.add_class(p,"disabled")}else{h.remove_class(p,"disabled")}})}h.add_event_listener(r,"click",function(){m.set_invitation_cookies(f.getElementById(m.locators.checkbox_do_not_show_again).checked,false,false);m.close_invitation()});if(f.getElementById(m.locators.button_close)){h.add_event_listener(f.getElementById(m.locators.button_close),"click",function(){m.set_invitation_cookies(f.getElementById(m.locators.checkbox_do_not_show_again).checked,false,false);m.close_invitation()})}if(f.getElementById(m.locators.exit_survey_proceed_directly_link_id)){h.add_event_listener(f.getElementById(m.locators.exit_survey_proceed_directly_link_id),"click",function(){m.set_invitation_cookies(f.getElementById(m.locators.checkbox_do_not_show_again).checked,false,false);m.close_invitation()})}document.onkeydown=function(e){e=e||window.event;if(e.keyCode===27){m.set_invitation_cookies(f.getElementById(m.locators.checkbox_do_not_show_again).checked,false,false);m.close_invitation()}};if(f.getElementById(m.locators.body_button_do_not_participate)){h.add_event_listener(f.getElementById(m.locators.body_button_do_not_participate),"click",function(){m.set_invitation_cookies(true,false,false);m.close_invitation()})}if(f.getElementById(m.locators.body_button_participate_after_visit)){h.add_event_listener(f.getElementById(m.locators.body_button_participate_after_visit),"click",function(){m.set_invitation_cookies(true,false,true);m.close_invitation();m.set_listener_for_when_visitor_leaves_website();return false})}break;case"trigger_mode_2_reminder":h.add_event_listener(r,"click",function(){m.set_invitation_cookies(false,false,false);m.close_invitation()});if(f.getElementById(m.locators.button_close)){h.add_event_listener(f.getElementById(m.locators.button_close),"click",function(){m.set_invitation_cookies(false,false,false);m.close_invitation()})}document.onkeydown=function(e){e=e||window.event;if(e.keyCode===27){m.set_invitation_cookies(false,false,false);m.close_invitation()}};if(f.getElementById(m.locators.body_button_escape_invitation_after)){h.add_event_listener(f.getElementById(m.locators.body_button_escape_invitation_after),"click",function(){m.set_invitation_cookies(true,false,false);window.location.href=m.destination})}if(f.getElementById(m.locators.body_button_participate_now)){h.add_event_listener(f.getElementById(m.locators.body_button_participate_now),"click",function(){m.set_invitation_cookies(true,false,false);window.setTimeout(function(){window.location.href=m.destination},200)})}break}h.load_style_sheet(e.css_file,m.show_popup)},show_popup:function(){setTimeout(function(){var e,t=window.pageYOffset||document.documentElement.scrollTop,n=h.get_browser_dimensions().height,i,o=document.getElementById(m.locators.pop_up_element_id),a=document.getElementById(m.locators.pop_up_wrapper_element_id),r=document.getElementById(m.locators.background_overlay_element_id);h.set_element_style(a,"display:block");h.set_element_style(r,"display:block");h.add_class(a,"ecsi_visible");if(m.settings.hasOwnProperty("welcome")&&m.settings.welcome.hasOwnProperty("save_stats")){m.settings.welcome.save_stats()}if(m.settings.hasOwnProperty("welcome")&&m.settings.welcome.hasOwnProperty("show_once")&&m.settings.welcome.show_once===1){m.set_invitation_cookies(true,false,false)}if(o&&a){e=h.get_element_outer_height(o);a.style.height=e+"px";if(n>e){i=t+n/2-e/2}else{i=t;if(i+e>h.get_document_height()){i=h.get_document_height()-e-30}}a.style.top=i+"px"}},200)},set_listener_for_when_visitor_leaves_website:function(){var o,a=m.settings;f.onclick=function(e){e=e||g.event;var t=e.target||e.srcElement;var n=["img","span","svg","use","symbol","path"],i;if(n.indexOf(t.tagName.toLowerCase())>-1&&(i=t.closest("a"))!==null){t=i}if(t.tagName.toLowerCase()==="a"&&h.element_has_attribute(t,"href")&&(!f.getElementById(m.locators.pop_up_wrapper_element_id)||f.getElementById(m.locators.pop_up_wrapper_element_id)&&!f.getElementById(m.locators.pop_up_wrapper_element_id).contains(t))){o=m.rules_match_url(a,t.href.toString());if(!o&&!t.href.startsWith("javascript")&&!t.href.startsWith("#")){m.destination=t.href;m.initialize_pop_up_markup(m.settings.reminder,"trigger_mode_2","reminder");return false}}}},initialize_settings:function(e){var t=0,n,i,o,a,r;while(t<e.surveys.length&&!n){for(o in e.surveys[t]){if(m.cache.disabled_surveys.indexOf(o)===-1){if(e.surveys[t].hasOwnProperty(o)){a=e.surveys[t][o];r=m.rules_match_url(a,g.location.toString());if(r){n=r}else{m.cache.disabled_surveys.push(o)}}}}t+=1}if(n){n.invitation_settings_file=o}else{n={}}i=m.read_overrides(n);m.settings=m.update_settings(m.settings,i);return i},check_cookie:function(e){var t=m.settings,n=h.get_cookie(m.settings.cookie_name),i=JSON.parse(n);if(i&&i.hasOwnProperty(t.invitation_settings_file)){if(i[t.invitation_settings_file].hasOwnProperty(m.get_page_language())&&i[t.invitation_settings_file][m.get_page_language()].hasOwnProperty(e)){if(i[t.invitation_settings_file][m.get_page_language()][e]===false){return false}}if(i[t.invitation_settings_file].hasOwnProperty("checkbox_do_not_show_again")&&i[t.invitation_settings_file].checkbox_do_not_show_again.hasOwnProperty(e)){if(i[t.invitation_settings_file].checkbox_do_not_show_again[e]===false){return false}}}return true},in_time_span:function(e){var t=h.get_current_date();if(e.hasOwnProperty("start_date")){if(h.parse_date(e.start_date)>t){return false}}if(e.hasOwnProperty("end_date")){if(h.parse_date(e.end_date)<t){return false}}return true},update_settings:function(t,n){var i;for(i in n){try{if(n[i].constructor===Object){t[i]=m.update_settings(t[i],n[i])}else{t[i]=n[i]}}catch(e){t[i]=n[i]}}return t},rules_match_url:function(e,t){var n=m.any_survey_settings_rule_matches(e,"white_list",t),i=m.any_survey_settings_rule_matches(e,"black_list",t);if(n.found&&!i.found){return e}return false},any_survey_settings_rule_matches:function(e,t,n){var i,o,a;if(e.hasOwnProperty(t)){for(a=0;a<e[t].length;a+=1){i=e[t][a];o=new RegExp(i).test(n);if(o){return{found:true,white_list:e.white_list,black_list:e.black_list,writable:true}}}}return{found:false}},set_invitation_cookies:function(e,t,n){var i=m.settings,o=h.get_cookie(m.settings.cookie_name),a=JSON.parse(o)||{};if(!a.hasOwnProperty(i.invitation_settings_file)){a[i.invitation_settings_file]={}}a[i.invitation_settings_file][m.get_page_language()]={};a[i.invitation_settings_file][m.get_page_language()].show_welcome_pop_up=t;a[i.invitation_settings_file][m.get_page_language()].show_reminder_pop_up=n;if(e){a[i.invitation_settings_file].checkbox_do_not_show_again={};a[i.invitation_settings_file].checkbox_do_not_show_again.show_welcome_pop_up=t;a[i.invitation_settings_file].checkbox_do_not_show_again.show_reminder_pop_up=n;h.set_cookie(m.settings.cookie_name,JSON.stringify(a),30)}else{h.set_cookie(m.settings.cookie_name,JSON.stringify(a))}},close_invitation:function(){var e,t;if(m.hasOwnProperty("destination")){g.location=m.destination}t=f.getElementById(m.locators.pop_up_wrapper_element_id);t.parentNode.removeChild(t);e=f.getElementById(m.locators.background_overlay_element_id);e.parentNode.removeChild(e)},pop_up_already_created:function(){var e=f.getElementById(m.locators.pop_up_wrapper_element_id);if(h.is_descendant(f.getElementsByTagName("body")[0],e)){return true}return false},message_log:function(e){if(typeof console==="object"){return false}},error_log:function(e){throw new Error("Europa Survey Pop-up error: "+e)},get_page_language:function(){var e="";if(m.settings.hasOwnProperty("get_page_language")){return m.settings.get_page_language}e=m.get_lang_autodetect();m.settings.get_page_language=e;return e},get_lang_autodetect:function(){var e=new RegExp("("+m.settings.supported_languages+")"),t=m.get_lang_from_url;if(String(t).length!==2){t=m.get_lang_from_html()}if(t==="pt-pt"){t="pt"}if(String(t).length!==2){t=m.get_lang_from_meta("http-equiv")}if(String(t).length!==2){t=m.get_lang_from_meta("meta-language")}if(String(t).length!==2||!t.match(e)){t="defaults"}return t||false},get_lang_from_html:function(){var e=f.documentElement.getAttribute("lang")||false;return e},get_lang_from_url:function(){var e=String(g.location).toLowerCase(),t=e.match("_("+m.supported_languages+").");if(t&&t[1]!==s){return String(t[1])}return false},get_lang_from_meta:function(e){var t=f.getElementsByTagName("meta"),n;for(n=0;n<t.length;n+=1){if(e==="http-equiv"){if(t[n].httpEquiv.toLowerCase()==="content-language"&&t[n].content){return t[n].content.substring(0,2).toLowerCase()}}else if(e==="meta-language"||true){if(t[n].name.toLowerCase()==="language"&&t[n].content){return t[n].content.substring(0,2).toLowerCase()}}}return false},url_in_production:function(){var e=["wcmcom-europa-eu-wip.wcm3vue.cec.eu.int:8080","www.acceptance.europa.eu","wcmcom-ec-europa-eu-wip.wcm3vue.cec.eu.int:8080","www.acceptance.ec.europa.eu","wcmcom-www-cc-cec-wip.wcm3vue.cec.eu.int:8080","www.acceptance.cc.cec","wcmcom-eeas-europa-eu-wip.wcm3vue.cec.eu.int:8080","www.acceptance.eeas.europa.eu","wcmcom-publications-europa-eu-wip.wcm3vue.cec.eu.int:8080","www.acceptance.publications.europa.eu"];if(new RegExp(e.join("|").replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$]/g,"\\$&")).test(g.location.toString())){return false}return true},clear_cache_string:function(){return Math.floor(h.get_current_date()/(30*60*1e3)).toString()+m.current_version}};try{m.public_methods={init:m.init,load_survey_url_rules_callback:m.load_survey_url_rules_callback,load_invitation_settings_file_callback:m.load_invitation_settings_file_callback,dom_ready:h.dom_ready,update_settings:m.update_settings,message_log:m.message_log};return m.public_methods}catch(e){m.message_log("Survey Invitation: Failed to initialize."+e.message)}}(window,document);SurveyInvitation.init(window.survey_invitation_overrides||{});