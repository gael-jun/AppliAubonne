((preview)=>{let _domRef=[];let restrictedType=["pdf","docx","xlsx","ppt","pptx","doc","docx","xls"];let eye=`<span class="wt-icon--eye wt-icon--fluid wt-ecl-link__icon"></span>`;let params={position:"before",xhtml:'<span id="wt-label--{id}" class="wt-ecl-link__label">{preview}</span>{eye}',mode:"modal",aria:{}};const isTypeSupport=(str)=>{str=str.toLowerCase();return restrictedType.filter(chk=>str===chk).length};const show=(options)=>{let document_preview=$wt.label("preview","document_preview");let id=(options.container)?"prev_"+$wt.id():"wt-preview-frame";if(options.container&&params.mode==='inline'){options.container.innerHTML=`<iframe src="about:blank" name="${id}" id="${id}"/>`;$wt.aria.setAttributes(options.container.querySelector('iframe'),options.container.params.aria)}else{$wt.dialog({mode:"screen",title:document_preview,content:`<iframe id="wt-preview-frame" name="wt-preview-frame"/>`,class:`wt-modal-preview wt-modal-preview-${$wt.theme} laco-exclude`})}
options.lang=document.lang;$wt.post($wt.root+"/rest/docpreview/",{target:id,...options})};const validate=(elm)=>{let url=elm.href;let tag=elm.tagName.toLowerCase();let type=!1;let format=elm.getAttribute('data-wt-preview');if(elm.validated){return!1}
elm.validated=!0;if(tag!=="a"||!url){return!1}
url=$wt.absolute(elm.href);if(!url.includes("europa.eu")){return!1}
let formatType=$wt.ext(url);if(formatType.length>4){formatType=format}
if(isTypeSupport(format)){type=format}else if(isTypeSupport(formatType)){type=formatType}
if(type){elm.wtPreviewConfig={type:type.slice(0,3),tag:tag,url:url};return elm.wtPreviewConfig}
return!1};const collect=()=>{[...document.querySelectorAll("[data-wt-preview]")].map(elm=>{if(validate(elm)){let srcOriginal=elm;let elmToClick=elm;let id=$wt.id();if(params.position){elmToClick=document.createElement("a");elmToClick.innerHTML=$wt.template(params.xhtml,{id:id,preview:preview,eye:eye});elmToClick.href=elm.wtPreviewConfig.url;elmToClick.className=`wt-preview-link wt-ecl-link wt-ecl-link--standalone wt-ecl-link--icon wt-preview-link-${params.position}`;let haveLabel=elm.getAttribute('aria-labelledby');let isWebtools=elmToClick.querySelector(`span[id="wt-label-${id}"]`);if(haveLabel&&haveLabel.includes('-link-label')){haveLabel=haveLabel.split('-link-label')[1]}
if(isWebtools||haveLabel){elmToClick.setAttribute('aria-labelledby',(`wt-label--${id} ${haveLabel || ''}`).trim())}
$wt[params.position](elmToClick,elm);elmToClick.parent=srcOriginal}
elmToClick.setAttribute("role","button");elmToClick.onclick=(e)=>{e.preventDefault();show(elm.wtPreviewConfig)};elmToClick.onkeypress=(e)=>{if(e.code==="Space"){e.preventDefault();show(elm.wtPreviewConfig)}};_domRef.push(elmToClick)}})};const run=(obj)=>{preview=$wt.label("preview","label");params=$wt.mergeParams(params,obj.params);if(params.url&&params.mode==="inline"){obj.classList.add('wt-preview-inline-container');show({url:params.url,type:params.type||$wt.ext(params.url),container:obj})}else if(params.url){let id=$wt.id();let elmToClick=document.createElement("a");elmToClick.innerHTML=$wt.template(params.xhtml,{id:id,preview:preview,eye:eye});elmToClick.href=params.url;elmToClick.className=`wt-preview-link wt-ecl-link wt-ecl-link--standalone wt-ecl-link--icon wt-preview-link-singleton`;if(elmToClick.querySelector('span[id]')){obj.params.aria={...obj.params.aria,...{labelledby:`wt-label--${id} `+(obj.params?.aria?.labelledby||'')}}}
elmToClick.setAttribute("role","button");$wt.aria.setAttributes(elmToClick,obj.params.aria);$wt.after(elmToClick,obj);obj.remove();_domRef.push(elmToClick);const showMe=(e)=>{e.preventDefault();show({url:elmToClick.href,type:params.type||$wt.ext(elmToClick.href)})};elmToClick.addEventListener("click",showMe);elmToClick.addEventListener("keypress",(e)=>{if(e.code==="Space"){showMe(e)}})}else{collect();$wt.domchange(collect)}
$wt.next(obj)};$wt.preview={onRemove:()=>{return _domRef.filter(dom=>{if(dom.parent){dom.parent.validated=!1;return!0}else if(dom.wtPreviewConfig){dom.validated=!1;dom.onclick=()=>{};return!1}})},run:run}})();$wt.addTranslation({"preview":{"en":{"label":"Preview","document_preview":"Document preview"},"bg":{"label":"\u041f\u0440\u0435\u0433\u043b\u0435\u0434","document_preview":"\u041f\u0440\u0435\u0433\u043b\u0435\u0434 \u043d\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"},"hr":{"label":"Pregled","document_preview":"Pregled dokumenta"},"cs":{"label":"N\u00e1hled","document_preview":"N\u00e1hled dokumentu"},"da":{"label":"Vis","document_preview":"Dokumentforh\u00e5ndsvisning"},"nl":{"label":"Bekijken","document_preview":"Documentvoorbeeld"},"et":{"label":"Eelvaade","document_preview":"Dokumendi eelvaade"},"fi":{"label":"Esikatselu","document_preview":"Asiakirjan esikatselu"},"fr":{"label":"Aper\u00e7u","document_preview":"Aper\u00e7u du document"},"de":{"label":"Vorschau","document_preview":"Dokumentvorschau"},"el":{"label":"\u03a0\u03c1\u03bf\u03b1\u03c0\u03b5\u03b9\u03ba\u03cc\u03bd\u03b9\u03c3\u03b7","document_preview":"\u03a0\u03c1\u03bf\u03b5\u03c0\u03b9\u03c3\u03ba\u03cc\u03c0\u03b7\u03c3\u03b7 \u03b5\u03b3\u03b3\u03c1\u03ac\u03c6\u03bf\u03c5"},"hu":{"label":"El\u0151n\u00e9zet","document_preview":"Dokumentum el\u0151n\u00e9zete"},"ga":{"label":"R\u00e9amhamharc","document_preview":"R\u00e9amhamharc ar dhoicim\u00e9ad"},"it":{"label":"Anteprima","document_preview":"Anteprima del documento"},"lv":{"label":"Priek\u0161skat\u012bjums","document_preview":"Dokumenta priek\u0161skat\u012bjums"},"lt":{"label":"Per\u017ei\u016br\u0117ti","document_preview":"Dokumento per\u017ei\u016bra"},"mt":{"label":"Privju","document_preview":"Preview tad-dokument"},"pl":{"label":"Podgl\u0105d","document_preview":"Podgl\u0105d dokumentu"},"pt":{"label":"Pr\u00e9-visualiza\u00e7\u00e3o","document_preview":"Pr\u00e9-visualiza\u00e7\u00e3o do documento"},"ro":{"label":"Vizualizare","document_preview":"Previzualizare document"},"sk":{"label":"N\u00e1h\u013ead","document_preview":"N\u00e1h\u013ead dokumentu"},"sl":{"label":"Predogled","document_preview":"Predogled dokumenta"},"es":{"label":"Vista previa","document_preview":"Vista previa del documento"},"sv":{"label":"\u00d6verblick","document_preview":"Dokumentf\u00f6rhandsgranskning"}}},!0)